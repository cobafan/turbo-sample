<div class="container">
  <h1>Turbo Sample TODO App</h1>

  <div class="info-section">
    <h2>Turbo Frames - Advanced Features Demo</h2>
    <ul>
      <li><strong>1. Lazy Loading:</strong> Statistics load automatically after page loads</li>
      <li><strong>2. Filter Tabs:</strong> Switch between All/Pending/Completed without page reload</li>
      <li><strong>3. Modal:</strong> Click "View" to see TODO details in a modal frame</li>
      <li><strong>4. Nested Frames:</strong> Add comments inside the modal (frame within frame)</li>
      <li><strong>5. Inline Editing:</strong> Click "Edit" to update TODOs inline</li>
    </ul>
  </div>

  <!-- Advanced Feature 1: Lazy Loading with Turbo Frame -->
  <div class="statistics-section">
    <h2>Statistics (Lazy Loaded)</h2>
    <%= turbo_frame_tag "statistics", src: statistics_todos_path, loading: :lazy do %>
      <div class="statistics-loading">
        <p>ðŸ“Š Loading statistics...</p>
      </div>
    <% end %>
  </div>

  <%= turbo_frame_tag "new_todo" do %>
    <h2>Add New TODO</h2>
    <%= render "form", todo: Todo.new %>
  <% end %>

  <!-- Advanced Feature 2: Filter Tabs with Turbo Frame -->
  <h2>TODO List</h2>

  <%= turbo_frame_tag "filter_tabs" do %>
    <%= render "filter_tabs" %>
  <% end %>

  <%= turbo_stream_from "todos" %>

  <div id="todos">
    <%= render @todos %>
  </div>

  <% if @todos.empty? %>
    <p class="empty-state">No todos yet. Create your first todo above!</p>
  <% end %>

  <!-- Advanced Feature 3: Modal Frame (Target for TODO details) -->
  <%= turbo_frame_tag "modal" %>
</div>
